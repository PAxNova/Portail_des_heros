<div class="character-edit">
  <h1>La découverte</h1>

  <!-- Progress bar -->
  <div class="progress-bar">
    <div class="progress" style="width: <%= (@character.completion_rate.to_f / 9 * 100).round %>%;"></div>
  </div>
  <p>Progression: <%= (@character.completion_rate.to_f / 9 * 100).round %> %</p>

  <%= simple_form_for @character do |f| %>
    <% case @character.completion_rate %>
    <% when 1 %>
      <div class="options-wrapper">
        <% @character.universe.races.each do |race| %>
          <div class="option-item">
            <%= f.radio_button :race_id, race.id %>
            <label for="<%= f.object_name %>_race_id_<%= race.id %>">
              <%= image_tag race.photo, alt: race.name %>
              <div class="description">
                <strong><%= race.name %></strong>
                <p><%= race.description %></p>
              </div>
            </label>
          </div>
        <% end %>
      </div>
    <% when 2 %>
      <div class="options-wrapper">
        <% @character.universe.univers_classes.each do |univers_class| %>
          <div class="option-item">
            <%= f.radio_button :univers_class_id, univers_class.id %>
            <label for="<%= f.object_name %>_univers_class_id_<%= univers_class.id %>">
              <%= image_tag univers_class.photo, alt: univers_class.name %>
              <div class="description">
                <strong><%= univers_class.name %></strong>
                <p><%= univers_class.description %></p>
              </div>
            </label>
          </div>
        <% end %>
      </div>
    <% when 3 %>
      <%= f.input :strength, as: :select, collection: (10..18).to_a, label: 'Force' %>
    <% when 4 %>
      <%= f.input :dexterity, as: :select, collection: (10..18).to_a, label: 'Dextérité' %>
    <% when 5 %>
      <%= f.input :intelligence, as: :select, collection: (10..18).to_a, label: 'Intelligence' %>
    <% when 6 %>
      <%= f.input :constitution, as: :select, collection: (10..18).to_a, label: 'Constitution' %>
    <% when 7 %>
      <%= f.input :wisdom, as: :select, collection: (10..18).to_a, label: 'Sagesse' %>
    <% when 8 %>
      <%= f.input :charisma, as: :select, collection: (10..18).to_a, label: 'Charisme' %>
    <% when 9 %>
      <%= f.input :name, label: 'Nom du personnage' %>
    <% end %>

    <%= f.submit 'Continuer', class: 'button' %>
  <% end %>
</div>
